<!--
#################### WE ARE STARTING OUT WITH STATE DERIVED FRONTEND ######################

    1. State is the variable part of the app
    2. Component is how we render state on screen
    3. Rendering -> taking the state and rendering it on the DOM based on components

-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <input type="text"></input>
  <button onclick="addTodo()" placeholder="Add todo">Add todo!</button>
  <div id = "todo-container"></div>
</body>

<script>
  let todos = [];
  function addTodo() {
    const value = document.querySelector("input").value

    if (value){
      todos.push({
        title: document.querySelector("input").value
      })
      render();
    }
    else{
      alert("Add todo can't be empty!")
    }
  }

  function deleteTodo() {

    render();
  }

  function render() {
    document.getElementById("todo-container").innerHTML = ''
    let todoEl
    for (let index = 0; index < todos.length; index++) {
      let todoEl = createComponent()
      todoEl.querySelector("span").innerText = todos[index].title
      todoEl.querySelector("button").innerText = "Delete" 
      document.getElementById("todo-container").appendChild(todoEl)
    }
  }

  function createComponent() {
    let newEl = document.createElement("div")
    let newSpan = document.createElement("span")
    let button = document.createElement("button")
    newEl.appendChild(newSpan)
    newEl.appendChild(button)
    return newEl
  }
</script>

</html>